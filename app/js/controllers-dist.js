<<<<<<< HEAD
var myApp=angular.module("myApp",[]);myApp.controller("musicPlayer",function(e,t,n){soundManager.setup({url:"swf/",preferFlash:"false",html5Test:/^(probably|maybe)$/i}),soundManager.onready(function(){t.date=new Date,console.log(t.date),t.filt=e("date")(t.date,"yyyy-MM-dd/H"),o(t.filt,0)});var o=function(s,a){t.pl=angular.lowercase(s).toString(),console.log(t.pl),n.get("playlists/"+t.pl+".playlist").then(function(n){if(t.playlists=n.data,a)t.songNum=0,t.makeMusic(t.songNum);else{t.minute=parseInt(e("date")(new Date,"mm")),console.log(t.minute),t.second=parseInt(e("date")(new Date,"ss")),console.log(t.second),t.curTime=60*t.minute+t.second,console.log(t.curTime),t.songTime=0,t.songNum;for(var s=0;s<=t.playlists.length-1;s++)if(t.songTime=t.songTime+parseInt(t.playlists[s].length),console.log(t.songTime),t.songTime>t.curTime){t.songNum=s+1;break}t.songNum>t.playlists.length-1?(t.date.addHours(1),t.filt=e("date")(t.date,"yyyy-MM-dd/H"),console.log(t.filt),o(t.filt,1)):t.makeMusic(t.songNum)}})};t.makeMusic=function(n){t.numSong=n.toString();var s=t.playlists;console.log(s[t.numSong].path),console.log(s.length),path=s[n].path,document.getElementById("songName").innerHTML=s[n].song,document.getElementById("artistAlbum").innerHTML=s[n].artist+"-"+s[n].album,soundManager.createSound({id:t.numSong,url:path,stream:!0,autoLoad:!0,autoPlay:!0,whileplaying:function(){var n=this.duration-this.position;t.timeProg=this.position/this.duration*100;var o=e("date")(new Date(n),"mm:ss");document.getElementById("timeLeft").innerHTML=o,document.getElementById("progBar").style.width=t.timeProg+"%"},onfinish:function(){n>=t.playlists.length-1?(t.date.addHours(1),t.filt=e("date")(t.date,"yyyy-MM-dd/H"),console.log(t.filt),o(t.filt,1)):(console.log(t.playlists.length),n++,t.makeMusic(n))}})},t.pauseMusic=function(){console.log(t.numSong),soundManager.togglePause(t.numSong)},Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this}});
=======
var myApp=angular.module("myApp",[]);myApp.controller("musicPlayer",function(n,e,o){soundManager.setup({url:"swf/",preferFlash:"false"}),soundManager.onready(function(){t()});var t=function(){e.date=new Date,console.log(e.date),e.filt=n("date")(e.date,"yyyy-MM-dd/Ha"),pl=angular.lowercase(e.filt).toString(),console.log(pl),name="2014-12-19/8am",o.get("playlists/"+pl+".playlist").then(function(o){e.playlists=o.data,e.minute=parseInt(n("date")(new Date,"mm")),console.log(e.minute),e.second=parseInt(n("date")(new Date,"ss")),console.log(e.second),e.curTime=60*e.minute+e.second,console.log(e.curTime),e.songTime=0,e.songNum;for(var t=0;t<=e.playlists.length-1;t++)if(e.songTime=e.songTime+parseInt(e.playlists[t].length),console.log(e.songTime),e.songTime>e.curTime){e.songNum=t+1;break}e.makeMusic(e.songNum)})};e.makeMusic=function(o){e.numSong=o.toString();var t=e.playlists;console.log(t[e.numSong].path),console.log(t.length),path=t[o].path,document.getElementById("songName").innerHTML=t[o].song,document.getElementById("artistAlbum").innerHTML=t[o].artist+"-"+t[o].album,soundManager.createSound({id:e.numSong,url:path,stream:!0,autoLoad:!0,autoPlay:!0,whileplaying:function(){var o=this.duration-this.position;e.timeProg=this.position/this.duration*100;var t=n("date")(new Date(o),"mm:ss");document.getElementById("timeLeft").innerHTML=t,document.getElementById("progBar").style.width=e.timeProg+"%"},onfinish:function(){o++,e.makeMusic(o)}})},e.pauseMusic=function(){console.log(e.numSong),soundManager.togglePause(e.numSong)}});
>>>>>>> dev
